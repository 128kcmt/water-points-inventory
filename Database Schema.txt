-- This script was generated by the ERD tool in pgAdmin 4.
-- Please log an issue at https://github.com/pgadmin-org/pgadmin4/issues/new/choose if you find any bugs, including reproduction steps.
-- for the population, Covered the raster data to be able tostore it in database
BEGIN;


CREATE TABLE IF NOT EXISTS public.mw_pop_2024
(
    id serial NOT NULL,
    pop_value integer,
    lat double precision,
    lon double precision,
    CONSTRAINT mw_pop_2024_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.roads
(
    id serial NOT NULL,
    name character varying(100) COLLATE pg_catalog."default",
    length_km double precision,
    source integer,
    target integer,
    length_m double precision,
    cost double precision,
    reverse_cost double precision,
    CONSTRAINT roads_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS public.roads_vertices
(
    id bigint,
    in_edges bigint[],
    out_edges bigint[],
    x double precision,
    y double precision,
    geom geometry
);

CREATE TABLE IF NOT EXISTS public.water_points
(
    id serial NOT NULL,
    name character varying(100) COLLATE pg_catalog."default",
    status character varying(50) COLLATE pg_catalog."default",
    district character varying(50) COLLATE pg_catalog."default",
    lat double precision,
    lon double precision,
    CONSTRAINT water_points_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS water_points_inventory.mwi_adm
(
    id serial NOT NULL,
    geom geometry(MultiPolygon,4326),
    "ADM1_EN" character varying(50) COLLATE pg_catalog."default",
    "ADM1_PCODE" character varying(50) COLLATE pg_catalog."default",
    "ADM0_EN" character varying(50) COLLATE pg_catalog."default",
    "ADM0_PCODE" character varying(50) COLLATE pg_catalog."default",
    date date,
    "validOn" date,
    "validTo" date,
    "Shape_Leng" double precision,
    "Shape_Area" double precision,
    CONSTRAINT mwi_adm_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS water_points_inventory.population
(
    id serial NOT NULL,
    geom geometry(MultiPolygon,4326),
    name character varying(80) COLLATE pg_catalog."default",
    name_en character varying(80) COLLATE pg_catalog."default",
    place character varying(80) COLLATE pg_catalog."default",
    landuse character varying(80) COLLATE pg_catalog."default",
    population character varying(80) COLLATE pg_catalog."default",
    is_in character varying(80) COLLATE pg_catalog."default",
    source character varying(80) COLLATE pg_catalog."default",
    name_ny character varying(80) COLLATE pg_catalog."default",
    osm_id bigint,
    osm_type character varying(80) COLLATE pg_catalog."default",
    CONSTRAINT population_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS water_points_inventory.population_raster
(
    rid serial NOT NULL,
    rast raster,
    filename text COLLATE pg_catalog."default",
    CONSTRAINT population_raster_pkey PRIMARY KEY (rid)
);

CREATE TABLE IF NOT EXISTS water_points_inventory.roads
(
    id serial NOT NULL,
    geom geometry(MultiLineString,4326),
    osm_id character varying(12) COLLATE pg_catalog."default",
    code integer,
    fclass character varying(28) COLLATE pg_catalog."default",
    name character varying(100) COLLATE pg_catalog."default",
    ref character varying(20) COLLATE pg_catalog."default",
    oneway character varying(1) COLLATE pg_catalog."default",
    maxspeed integer,
    layer bigint,
    bridge character varying(1) COLLATE pg_catalog."default",
    tunnel character varying(1) COLLATE pg_catalog."default",
    length_m double precision,
    cost double precision,
    reverse_cost double precision,
    source integer,
    target integer,
    CONSTRAINT roads_pkey PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS water_points_inventory.roads_vertices_pgr
(
    id bigint,
    in_edges bigint[],
    out_edges bigint[],
    x double precision,
    y double precision,
    geom geometry
);

CREATE TABLE IF NOT EXISTS water_points_inventory."water_points "
(
    id serial NOT NULL,
    geom geometry(Point,4326),
    fid bigint,
    name character varying(168) COLLATE pg_catalog."default",
    name_en character varying(168) COLLATE pg_catalog."default",
    amenity character varying(80) COLLATE pg_catalog."default",
    man_made character varying(80) COLLATE pg_catalog."default",
    shop character varying(80) COLLATE pg_catalog."default",
    tourism character varying(80) COLLATE pg_catalog."default",
    opening_ho character varying(80) COLLATE pg_catalog."default",
    beds character varying(80) COLLATE pg_catalog."default",
    rooms character varying(80) COLLATE pg_catalog."default",
    addr_full character varying(80) COLLATE pg_catalog."default",
    addr_house character varying(80) COLLATE pg_catalog."default",
    addr_stree character varying(80) COLLATE pg_catalog."default",
    addr_city character varying(80) COLLATE pg_catalog."default",
    source character varying(80) COLLATE pg_catalog."default",
    name_ny character varying(80) COLLATE pg_catalog."default",
    osm_id bigint,
    osm_type character varying(80) COLLATE pg_catalog."default",
    CONSTRAINT "water_points _pkey" PRIMARY KEY (id)
);
END;